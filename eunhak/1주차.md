
작성일 : 2022/08/05
<br>
저는 모르는게 많아서 내용 다 정리해놨습니다
<br>
<br>

# IP(인터넷 프로토콜)
IP란 복잡한 인터넷망을 통해서 서로 멀리 떨어져있는 컴퓨터끼리 통신하기 위해서는 최소한의 규칙을 의미함
<br>
<br>
통신하려는 두 컴퓨터들은 각각 IP주소를 부여 받아야함

## IP의 역할
1.지정한 ip주소에 데이터 전달
2.패킷(Packet)이라는 통신 단위로 데이터 전달

<b>
패킷 : 컴퓨터 간에 데이터를 주고받을 때 네트워크를 통해서 전송되는 데이터 조각
</b>
  
## IP의 한계
1.비연결성 (패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송)<br>
2.비신뢰성  (패킷이 중간에 사라지거나, 순서대로 안오는 경우)<br>
3.프로그램 구분(같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상일 경우)

<br>
<b>
결론 : IP 프로토콜만으로는 이러한 문제들을 해결할 수 없다!
</b>

# TCP
IP 프로토콜에서 발생했던 수많은 문제들(패킷의 순서가 꼬이고, 유실되는 등의 문제)을 TCP 프로토콜이 해결!

## 인터넷 프로토콜 스택의 4계층

애플리케이션 계층 - HTTP, FTP
<br>
전송 계층 - TCP, UDP
<br>
인터넷 계층 - IP
<br>
네트워크 전송 계층
<br>


## TCP의 특징
-연결지향 - TCP 3 way handshake (가상 연결)<br>
-데이터 전달 보증<br>
-순서 보장<br>
-신뢰할 수 있는 프로토콜<br>
-현재는 대부분 TCP 사용<br>


## 3handshake
TCP/IP프로토콜을 이용해서 통신을 하는 응용프로그램이 데이터를 전송하기 전에 먼저 정확한 전송을 보장하기 위해 상대방 컴퓨터와 사전에 세션을 수립하는 과정
<br><br>
Client > Server : SYN(연결)요청 <br>
Server > Client : SYN(연결) ACK(수락)요청 <br>
Client > Server : ACK(수락)요청 <br>


3handshake 역할 :  양쪽 모두 데이타를 전송할 준비가 되었다는 것을 보장하고, <br>실제로 데이터 전달이 시작하기전에 한쪽이 다른 쪽이 준비되었다는 것을 알수 있도록 한다.


# UDP
• 하얀 도화지에 비유(기능이 거의 없음)<br>
• 연결지향 - TCP 3 way handshake X<br>
• 데이터 전달 보증 X<br>
• 순서 보장 X<br>
• 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름<br>
• <b>정리: IP와 거의 같다. +PORT +체크섬 정도만 추가 / 애플리케이션에서 추가 작업 필요</b>


# PORT
<b>한번에 둘 이상 연결해야하는 경우</b>
IP주소 만으로는 여러개의 프로세스를 구분할 수 없기 때문에 host 컴퓨터 안에서 돌아가는 애플리케이션들을 구분하는 Port번호를 이용하여 애플리케이션을 찾아야함<br>
아파트로 치면 IP는 단지 PORT는 몇동 몇호


# DNS
IP는 200.200.200.02 처럼 기억하기 어려운 숫자이기 때문에 이를 기억하기 쉽게 도메인 명으로 저장해야한다  ->  DNS
<br>
<b>쉽게 전화번호부라고 생각하면 됨</b>



# URI


## URI 단어 뜻
Uniform: 리소스 식별하는 통일된 방식<br>
Resource: 자원, URI로 식별할 수 있는 모든 것(제한 없음)<br>
Identifier: 다른 항목과 구분하는데 필요한 정보<br>


## URL / URN
URL - Locator: 리소스가 있는 위치를 지정 <br>
URN - Name: 리소스에 이름을 부여 <br>

<b>URN 이름만으로 실제 리소스를 찾을 수 있는 방법이 보편화 되지 않음</b> <br>
<b> -> URL이 주로 사용되며 URL과 URI를 거의 동일시 해도 됨 </b>



## URL 분석

• https://www.google.com:443/search?q=hello&hl=ko<br><br>


• 프로토콜(https): 어떤 방식으로 자원에 접근할 것인가 하는 약속 규칙 <br><br>
• 호스트명(www.google.com) : 도메인명 또는 IP 주소를 직접 사용가능 <br><br>
• 포트 번호(443) : 일반적으로 생략, 생략시 http는 80, https는 443 <br><br>
• 패스(/search) : 리소스 경로(path), 계층적 구조 <br><br>
• 쿼리 파라미터(q=hello&hl=ko) : key=value 형태 / ?로 시작, &로 추가 가능 ?keyA=valueA&keyB=valueB  <br><br>

# 웹 브라우저 요청 흐름

1.DNS 조회: google.com을 DNS를 조회해서 IP주소를 찾음<br>
2.HTTPS PORT 생략(443)<br>
3.HTTP 요청 메세지를 생성<br><br>

<b>HTTP 메세지 전송</b><br>
1.웹 브라우저가 HTTP 메세지를 생성<br>

2.SOCKET 라이브러리를 통해 TCP/IP계층에 전달<br>
-이전단계에서 찾은 IP와 PORT정보를 가지고 SYN, SYN+ACK, ACK 과정을 통해 서버와 연결. <br>
-연결이 성공되면 TCP/IP 계층으로 데이터를 전.<br>


3.TCP/IP 패킷을 생성( HTTP 메세지도 포함됨) <br>


4.서버는 패킷이 도착하면 패킷의 내부 HTTP 메서드를 해석해서 정보에 맞는 동작을 수행 <br>

5.서버에서 HTTP 응답 메세지를 생성 <br>

6.클라이언트에서는 응답메세지를 받아 맞는 동작(ex: 렌더링)수행 <br>


  
  
  
  
  
